# Менеджер Паролей

Это простой локальный менеджер паролей, написанный на Python. Он позволяет создавать пользователей, генерировать и хранить пароли для различных сервисов в зашифрованном виде. Все данные хранятся локально на устройстве пользователя (в директории `APPDATA/pw_manager` на Windows или `~/pw_manager` на других ОС), и доступ к ним защищён мастер-паролем. Программа использует криптографию для шифрования данных и не передаёт информацию в сеть.

## Основные возможности

- **Создание пользователей**: Регистрация нового пользователя с мастер-паролем.
- **Авторизация**: Вход в аккаунт с проверкой мастер-пароля (ограничение на 5 попыток).
- **Генерация паролей**: Автоматическая генерация случайных паролей с настройками (длина, типы символов: цифры, буквы, спецсимволы; опция исключения неоднозначных символов как `i`, `l`, `1` и т.д.).
- **Хранение паролей**: Добавление, просмотр и удаление паролей для сервисов с датой создания.
- **Изменение мастер-пароля**: Перешифровка всех данных при смене пароля.
- **Сброс данных**: Удаление всех данных пользователя.
- **Логирование**: Запись событий в файл лога для отладки (с ротацией файлов).
- **Безопасность**: Шифрование с использованием Fernet (из библиотеки cryptography) и PBKDF2 для генерации ключа из мастер-пароля.

Программа ориентирована на безопасность: пароли вводятся с маскировкой, данные шифруются, и нет доступа к интернету.

## Требования

- Python 3.6+ (протестировано на 3.12).
- Зависимости:
  - `cryptography`: Для шифрования.
  - `prettytable`: Для отображения таблиц с паролями.
  - `termcolor`: Для цветного вывода в консоль.

Установите зависимости с помощью pip:

```
pip install cryptography prettytable termcolor
```

## Установка

1. Скачайте скрипт `password_manager.py` (или весь репозиторий).
2. Установите зависимости, как указано выше.
3. Запустите скрипт:

```
python password_manager.py
```

Программа автоматически создаст необходимые директории для хранения данных.

## Использование

После запуска вы увидите главное меню:

- **1 — Войти**: Выберите пользователя из списка и введите мастер-пароль.
- **2 — Создать нового пользователя**: Введите имя и создайте мастер-пароль (минимум 3 символа).
- **0 — Выход**: Завершить программу.

После входа откроется меню пользователя:

- **1 — Показать пароли**: Отображает таблицу с сервисами, паролями и датами создания.
- **2 — Добавить новый**: Укажите сервис, сгенерируйте или введите пароль вручную, подтвердите сохранение.
- **3 — Удалить пароль**: Укажите сервис; если не найден, предложит создать новый.
- **4 — Изменить мастер-пароль**: Введите старый и новый пароли; данные будут перешифрованы.
- **h — Помощь**: Краткий туториал по меню.
- **0 — Выйти в главное меню**.

### Пример работы

1. Создайте пользователя "user1" с мастер-паролем "secret".
2. Войдите в аккаунт.
3. Добавьте пароль для "gmail.com": сгенерируйте 16-символьный пароль с цифрами и символами.
4. Просмотрите пароли — увидите таблицу.
5. Измените мастер-пароль на "newsecret".

### Важные замечания

- **Безопасность**: Мастер-пароль — ключ ко всем данным. Если забудете его, данные восстановить невозможно (нет механизма восстановления). Рекомендуем использовать сильный мастер-пароль.
- **Хранение**: Данные в `~/pw_manager/users/<username>/data.json` (зашифрованы) и `salt.bin` (соль для ключа).
- **Логи**: В `~/pw_manager/pw_manager.log` записываются события (создание, вход, ошибки).
- **Ограничения**: Программа не поддерживает несколько устройств (данные локальные). Нет графического интерфейса — только консоль.
- **Ошибки**: Если данные повреждены, программа предложит сброс.

## Вклад в проект

Если хотите улучшить проект (например, добавить GUI, экспорт данных или поддержку нескольких устройств), создайте pull request. Пожалуйста, следуйте PEP 8 для стиля кода.

## Лицензия

Этот проект распространяется под лицензией MIT. См. файл `LICENSE` (если добавлен) или используйте свободно для личных целей.

Автор: [Ivan Vitalevich]  
Дата: 2025  
Контакты: [mailyp@ro.ru]
